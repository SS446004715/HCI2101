<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ù„Ø¹Ø¨Ø© XO</title>
    <style>
        body {
            margin: 0;
            min-height: 100vh;
            background: linear-gradient(135deg, #020617, #0f172a);
            color: #e5e7eb;
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        h1 { color: #a5b4fc; }
        .game {
            background: #1e293b;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            width: 330px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.5);
        }
        .modes button {
            background: #4f46e5;
            color: white;
            border: none;
            padding: 8px 15px;
            margin: 5px;
            border-radius: 8px;
            cursor: pointer;
        }
        .board {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 20px 0;
        }
        .cell {
            width: 90px;
            height: 90px;
            background: #020617;
            border-radius: 10px;
            font-size: 2.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }
        .cell.x { color: #60a5fa; }
        .cell.o { color: #34d399; }
        .status {
            margin: 10px 0;
            font-size: 1.1rem;
        }
        .reset {
            background: #22c55e;
            border: none;
            padding: 8px 18px;
            border-radius: 8px;
            cursor: pointer;
        }
        footer {
            margin-top: 20px;
            font-size: 0.85rem;
            color: #94a3b8;
        }
    </style>
</head>
<body>

<h1>ðŸŽ® Ù„Ø¹Ø¨Ø© XO</h1>

<div class="game">
    <div class="modes">
        <button onclick="setMode('single')">Ù„Ø§Ø¹Ø¨ ÙˆØ§Ø­Ø¯</button>
        <button onclick="setMode('two')">Ù„Ø§Ø¹Ø¨ÙŠÙ†</button>
    </div>

    <div class="board">
        <div class="cell" data-i="0"></div>
        <div class="cell" data-i="1"></div>
        <div class="cell" data-i="2"></div>
        <div class="cell" data-i="3"></div>
        <div class="cell" data-i="4"></div>
        <div class="cell" data-i="5"></div>
        <div class="cell" data-i="6"></div>
        <div class="cell" data-i="7"></div>
        <div class="cell" data-i="8"></div>
    </div>

    <div class="status" id="status">Ø§Ø®ØªØ± Ù†Ù…Ø· Ø§Ù„Ù„Ø¹Ø¨</div>
    <button class="reset" onclick="resetGame()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨</button>
</div>

<footer>
    Student Name: Ali Mohammed Asiri |
    ID: S446004715 |
    Supervised by: Mohammed Jabali
</footer>

<script>
    const cells = document.querySelectorAll(".cell");
    const statusText = document.getElementById("status");

    let board = ["","","","","","","","",""];
    let current = "X";
    let active = false;
    let mode = "two";

    const wins = [
        [0,1,2],[3,4,5],[6,7,8],
        [0,3,6],[1,4,7],[2,5,8],
        [0,4,8],[2,4,6]
    ];

    function setMode(m) {
        mode = m;
        resetGame();
        active = true;
        statusText.textContent = "Ø¯ÙˆØ± Ø§Ù„Ù„Ø§Ø¹Ø¨: X";
    }

    function clickCell(e) {
        const i = e.target.dataset.i;
        if (!active || board[i]) return;

        move(i, current);
        if (check()) return;

        if (mode === "single" && current === "O") {
            setTimeout(aiMove, 400);
        }
    }

    function move(i, player) {
        board[i] = player;
        cells[i].textContent = player;
        cells[i].classList.add(player.toLowerCase());
        current = player === "X" ? "O" : "X";
        statusText.textContent = "Ø¯ÙˆØ± Ø§Ù„Ù„Ø§Ø¹Ø¨: " + current;
    }

    function aiMove() {
        let empty = board
            .map((v,i)=>v===""?i:null)
            .filter(v=>v!==null);
        if (!empty.length) return;
        let r = empty[Math.floor(Math.random()*empty.length)];
        move(r,"O");
        check();
    }

    function check() {
        for (let w of wins) {
            const [a,b,c]=w;
            if (board[a] && board[a]===board[b] && board[a]===board[c]) {
                statusText.textContent = "ðŸŽ‰ Ø§Ù„ÙØ§Ø¦Ø²: " + board[a];
                active = false;
                return true;
            }
        }
        if (!board.includes("")) {
            statusText.textContent = "ðŸ¤ ØªØ¹Ø§Ø¯Ù„";
            active = false;
            return true;
        }
        return false;
    }

    function resetGame() {
        board = ["","","","","","","","",""];
        cells.forEach(c=>{
            c.textContent="";
            c.className="cell";
        });
        current="X";
        active=true;
        statusText.textContent="Ø¯ÙˆØ± Ø§Ù„Ù„Ø§Ø¹Ø¨: X";
    }

    cells.forEach(c=>c.addEventListener("click", clickCell));
</script>

</body>
</html>
